var gamesContainers={action:document.querySelector("#action-pane"),shooting:document.querySelector("#shooting-pane"),race:document.querySelector("#race-pane"),arcade:document.querySelector("#arcade-pane"),strategy:document.querySelector("#strategy-pane")},tabs={action:document.querySelector("#tab-action"),shooting:document.querySelector("#tab-shooting"),race:document.querySelector("#tab-race"),arcade:document.querySelector("#tab-arcade"),strategy:document.querySelector("#tab-strategy")};function startInjectGames(){files=["action-games.json","arcade-games.json","shooting-games.json","race-games.json","strategy-games.json"],files.forEach(function(e){$.getJSON(e,function(e){e.forEach(function(e){injectGame(e)})})})}function initTabListeners(){tabs.action.addEventListener("click",function(e){activeTab("action")}),tabs.arcade.addEventListener("click",function(e){activeTab("arcade")}),tabs.race.addEventListener("click",function(e){activeTab("race")}),tabs.shooting.addEventListener("click",function(e){activeTab("shooting")}),tabs.strategy.addEventListener("click",function(e){activeTab("strategy")})}function activeTab(e){unactiveAllTabs(),reduceAllPanes(),tabs[e].className="active",activeGamePane(e)}function unactiveAllTabs(){for(var e in tabs)tabs[e].className="unactive"}function injectGame(e){var a='<li>\n    <a class="game-link" href="/player/{{game-type}}/{{game-name}}"       data-gameurl="{{gameUrl}}"       data-largesrc="{{largesrc}}"        data-title="{{title}}"        data-description="{{description}}">\n        <img class="img-responsive" src="{{img-src}}" alt="{{alt-img}}"/>\n    </a>\n</li>';return navigator.onLine?console.log("online"):a=a.replace("/player/{{game-type}}/{{game-name}}","/player/offline/offline"),a=a.replace("{{game-type}}",e.category).replace("{{img-src}}",e.thumbnail).replace("{{game-name}}",e.title),"action"===e.category?document.querySelector("#"+gamesContainers.action.id+"-ul").innerHTML+=a:"shooting"===e.category?document.querySelector("#"+gamesContainers.shooting.id+"-ul").innerHTML+=a:"race"===e.category?document.querySelector("#"+gamesContainers.race.id+"-ul").innerHTML+=a:"arcade"===e.category?document.querySelector("#"+gamesContainers.arcade.id+"-ul").innerHTML+=a:"strategy"===e.category&&(document.querySelector("#"+gamesContainers.strategy.id+"-ul").innerHTML+=a),0}function activeGamePane(e){gamesContainers[e].style.height="auto",gamesContainers[e].style.display="block"}function reduceAllPanes(){for(var e in gamesContainers)gamesContainers[e].style.height="0px",gamesContainers[e].style.overflow="hidden",gamesContainers[e].style.display="none"}function setGameLink(){var e=document.getElementsByClassName("game-link");console.log(e);for(var a=0;a<e.length;a++)console.log(navigator.onLine),console.log(e[a])}initTabListeners(),reduceAllPanes(),activeGamePane("action"),startInjectGames(),window.addEventListener("offline",function(e){startInjectGames()}),window.addEventListener("online",function(e){startInjectGames()});